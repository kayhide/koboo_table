<!DOCTYPE html><html><head><meta charset="utf-8" /><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><title>Koboo Table</title><link href="stylesheets/normalize.css" rel="stylesheet" type="text/css" /><link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet" type="text/css" /><link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" /><script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.0.min.js" type="text/javascript"></script><script src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-2.2.1.js" type="text/javascript"></script><link href="stylesheets/koboo.css" rel="stylesheet" type="text/css" /><script src="javascripts/koboo.js" type="text/javascript"></script></head><body><header><div class="navbar navbar-default"><div class="container"><div class="navbar-header"><a class="navbar-brand" href="./">Koboo Table<small>コブータブル</small></a></div><div class="nav navbar-nav navbar-right"><li><a href="sample1.html">sample1</a></li><li><a href="sample2.html">sample2</a></li></div></div></div></header><div class="container"><div class="row"><div class="col-md-12"><div class="page-header"><h3>使い方</h3></div><ol><li><p>以下をダウンロードする。</p>

<ul>
  <li><a href="stylesheets/koboo.css">stylesheets/koboo.css</a></li>
  <li><a href="javascripts/koboo.js">javascripts/koboo.js</a></li>
</ul>
</li><li><p>ヘッダータグを追加する。</p>

<pre><code class="language-html">&lt;link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet" type="text/css" /&gt;
&lt;link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" /&gt;
&lt;script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.0.min.js" type="text/javascript"&gt;&lt;/script&gt;
&lt;script src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-2.2.1.js" type="text/javascript"&gt;&lt;/script&gt;
&lt;link href="/stylesheets/koboo.css" rel="stylesheet" type="text/css" /&gt;
&lt;script src="/javascripts/koboo.js" type="text/javascript"&gt;&lt;/script&gt;
</code></pre>
</li><li><p>データファイルを作成する。
<code>items.json</code> というファイル名で html ファイルと同じディレクトリに保存する。
文字コードはutf-8。</p>

<pre><code>{
    "items": [
        {
            "label": "ピッコロ",
            "url": "http://ja.wikipedia.org/wiki/%E3%83%94%E3%83%83%E3%82%B3%E3%83%AD_(%E3%83%89%E3%83%A9%E3%82%B4%E3%83%B3%E3%83%9C%E3%83%BC%E3%83%AB)",
            "power": 140000,
            "skill": "魔貫光殺砲"
        },
        {
            "label": "悟空",
            "url": "http://ja.wikipedia.org/wiki/%E5%AD%AB%E6%82%9F%E7%A9%BA_(%E3%83%89%E3%83%A9%E3%82%B4%E3%83%B3%E3%83%9C%E3%83%BC%E3%83%AB)",
            "power": 900000,
            "skill": "元気玉"
        }
    ]
}
</code></pre>
</li><li>フィルタタグを追加する。<pre><code class="language-html">&lt;h4&gt;戦闘力&lt;/h4&gt;
&lt;label&gt;
  &lt;input data-koboo-filter="power" data-koboo-filter-gte="1" name="power" type="radio"&gt;全て&lt;/input&gt;
&lt;/label&gt;
&lt;label&gt;
  &lt;input data-koboo-filter="power" data-koboo-filter-gte="200000" name="power" type="radio"&gt;20万以上&lt;/input&gt;
&lt;/label&gt;
&lt;h4&gt;特技&lt;/h4&gt;
&lt;label&gt;
  &lt;input data-koboo-filter="skill" type="checkbox"&gt;気&lt;/input&gt;
&lt;/label&gt;
&lt;label&gt;
  &lt;input data-koboo-filter="skill" type="checkbox"&gt;魔&lt;/input&gt;
&lt;/label&gt;
</code></pre>
</li><li>テーブルタグを追加する。<pre><code class="language-html">&lt;table data-koboo-items="items.json"&gt;
  &lt;tr&gt;
    &lt;th data-koboo-sort="label"&gt;名前&lt;/th&gt;
    &lt;th data-koboo-sort="power"&gt;戦闘力&lt;/th&gt;
    &lt;th data-koboo-sort="skill"&gt;特技&lt;/th&gt;
  &lt;/tr&gt;
  &lt;tbody data-bind="foreach: items"&gt;
    &lt;tr&gt;
      &lt;td&gt;&lt;a data-bind="attr: { href: url }, text: label"&gt;&lt;/a&gt;&lt;/td&gt;
      &lt;td data-bind="text: height"&gt;&lt;/td&gt;
      &lt;td data-bind="text: power"&gt;&lt;/td&gt;
      &lt;td data-bind="text: skill"&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
</code></pre>
</li></ol><div class="page-header"><h3>ドキュメント</h3></div><h4>依存関係</h4><p>このフレームワークは以下を利用します。</p><ul><li><a href="http://getbootstrap.com/">Bootstrap</a></li><li><a href="http://fortawesome.github.io/Font-Awesome/">Font Awesome</a></li><li><a href="http://jquery.com/">jQuery</a></li><li><a href="http://knockoutjs.com/">Knockout</a></li></ul><p>CDN を利用すると楽です。</p><pre><code class="language-html">&lt;link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet" type="text/css" /&gt;  
&lt;link href="http://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" /&gt;
&lt;script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.0.min.js" type="text/javascript"&gt;&lt;/script&gt;
&lt;script src="http://ajax.aspnetcdn.com/ajax/knockout/knockout-2.2.1.js" type="text/javascript"&gt;&lt;/script&gt;
</code></pre>
<h4>マークアップ</h4><p>このフレームワークはhtmlタグにアトリビュートを追加することによって動作します。
アトリビュート名は全て <code>data-koboo-*</code> です。</p>
<table class="table table-bordered table-condensed table-hover"><thead><tr><th>タグ</th><th>アトリビュート</th><th>説明</th><th>値の例</th></tr></thead><tbody><tr><th>table, div</th><th>data-koboo-items</th><td>データファイルへの相対パス。</td><td><p><code>items.json</code></p>
</td></tr><tr><th>th, td</th><th>data-koboo-sort</th><td>ソートの対象となるアイテムのプロパティ名。</td><td><p><code>label</code><br />
<code>power</code></p>
</td></tr><tr><th>input</th><th>data-koboo-filter</th><td><p>フィルタの対象となるアイテムのプロパティ名。<br />
複数チェックされた場合は、どれかにヒットすればよい（論理和）。</p>

<dl>
  <dt>プロパティが文字列の場合</dt>
  <dd><code>*-filter-text</code> でヒットするパターンを設定する。</dd>
  <dt>プロパティが数値の場合</dt>
  <dd><code>*-filter-gte</code>、<code>*-filter-lt</code> などでヒットする数値の範囲を設定する。</dd>
</dl>
</td><td><p><code>label</code><br />
<code>power</code></p>
</td></tr><tr><th>input</th><th><p>data-koboo-filter-text</p></th><td><p>プロパティが文字列の場合、ヒットするパターンを設定する。<br />
省略した場合、ラベルのテキストが代用される。<br />
正規表現として扱われる。</p>
</td><td><p><code>魔</code>（部分一致でヒットする）<br />
<code>^かめはめ波$</code>（完全一致でヒットする）<br />
<code>.</code> （全てのアイテムがヒットする）</p>
</td></tr><tr><th>input</th><th><p>data-koboo-filter-gt</p><p>data-koboo-filter-gte</p><p>data-koboo-filter-lt</p><p>data-koboo-filter-lte</p></th><td><p>プロパティが数値の場合、ヒットする数値範囲を設定する。<br />
<code>gt</code>、<code>gte</code>、<code>lt</code>、<code>lte</code> は、それぞれ <code>&gt;</code>、<code>&gt;=</code>、<code>&lt;</code>、<code>&lt;=</code> に対応する。<br />
例えば、<code>gte</code> を <code>5</code>、<code>lt</code> を <code>10</code> に設定すると、5以上10未満のアイテムがヒットする。<br />
<code>0</code> は設定できないので注意。</p>
</td><td><p><code>5</code><br />
<code>530000</code></p>
</td></tr></tbody></table><h4>データ</h4><p>データは <code>json</code>フォーマット。<code>items</code> のリストが必須。<br />
文字列はダブルクオーテーションで囲む。数値は囲まない。<br />
文字コードはutf-8。</p>

<pre><code class="language-json">{
  "items": [
    { "text": "ほげほげ", "num": 14 },
    { "text": "ぴよぴよ", "num": 3 }
  ]
}
</code></pre>
<div class="page-header"><h3>例</h3></div><h4>画像にリンクを作成する</h4><p><code>items.json</code></p>

<pre><code class="language-json">{
  "items": [
    {
      "label": "悟飯",
      "url": "http://ja.wikipedia.org/wiki/%E5%AD%AB%E6%82%9F%E9%A3%AF",
      "image_url": "./images/gohan.jpg"
    }
  ]
}
</code></pre>

<p><code>*.html</code></p>

<pre><code class="language-html">&lt;a data-bind="attr: { href: url }"&gt;
  &lt;img data-bind="attr: { src: image_url }" /&gt;
  &lt;span data-bind="text: label"&gt;&lt;/span&gt;
&lt;/a&gt;
</code></pre>
<hr /><h4>小数点以下を表示する</h4><p><code>*.html</code></p>

<pre><code class="language-html">&lt;span data-bind="text: power.toFixed(1)"&gt;&lt;/span&gt;
</code></pre>
<hr /><h4>複数のテーブルを扱う</h4><p>複数のテーブルを扱う場合は、フィルタやソートのタグを含む <code>div</code> にて <code>data-koboo-items</code> を設定します。</p>

<p><code>*.html</code></p>

<pre><code class="language-html">&lt;div data-koboo-items="data/items1.json"&gt;
...filters...
&lt;table&gt;
...
&lt;/table&gt;
&lt;/div&gt;

&lt;div data-koboo-items="data/items2.json"&gt;
...filters...
&lt;table&gt;
...
&lt;/table&gt;
&lt;/div&gt;
</code></pre>
<p class="text-right"><a href="sample2.html">>> サンプル</a></p><hr /><h4>デフォルトのソートを設定する</h4><p><code>data-koboo-sort</code> のタグに <code>sort-up</code> か <code>sort-down</code> のクラスを設定します。</p>

<p><code>*.html</code></p>

<pre><code class="language-html">&lt;th class="sort-down" data-koboo-sort="power"&gt;戦闘力&lt;/th&gt;
</code></pre>
</div></div></div><hr /><footer class="container"><p>&copy; kayhide 2014</p></footer></body></html>